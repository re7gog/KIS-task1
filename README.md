# Практическое занятие №1. Введение, основы работы в командной строке

Величко Г.Л., РТУ МИРЭА

Разработать эмулятор для языка оболочки ОС. Необходимо сделать работу эмулятора как можно более похожей на работу в командной строке UNIX-подобной ОС.

## Вариант 6

## Этап 1. REPL

Цель: создать минимальный прототип. Большинство функций в нем пока представляют собой заглушки, но диалог с пользователем уже поддерживается.
Требования:
1. Приложение должно быть реализовано в форме консольного интерфейса (CLI).
2. Приглашение к вводу должно формироваться на основе реальных данных ОС, в которой исполняется эмулятор. Пример: username@hostname:~$ .
3. Реализовать парсер, который поддерживает раскрытие переменных окружения реальной ОС (например, $HOME).
4. Реализовать команды-заглушки, которые выводят свое имя и аргументы: ls,cd.
5. Реализовать команду exit.
6. Продемонстрировать работу прототипа в интерактивном режиме. Необходимо показать примеры работы всей реализованной функциональности, включая обработку ошибок.
7. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.

## Этап 2. Конфигурация

Цель: сделать эмулятор настраиваемым, то есть поддержать ввод параметров пользователя в приложение. Организовать для этого этапа отладочный вывод всех заданных параметров при запуске эмулятора.
Требования:
1. Параметры командной строки:
 - Путь к физическому расположению VFS.
 - Путь к стартовому скрипту.
2. Стартовый скрипт для выполнения команд эмулятора: останавливается при первой ошибке. При выполнении скрипта на экране отображается как ввод, так и вывод, имитируя диалог с пользователем.
3. Сообщить об ошибке во время исполнения стартового скрипта.
4. Создать несколько скриптов реальной ОС, в которой выполняется эмулятор. Включить в каждый скрипт вызовы эмулятора для тестирования всех поддерживаемых параметров командной строки.
5. Результат выполнения этапа сохранить в репозиторий стандартно
оформленным коммитом.

## Этап 3. VFS
Цель: подключить виртуальную файловую систему (VFS).
Требования:
1. Все операции должны производиться в памяти. Запрещается распаковывать или иным образом модифицировать данные VFS, за исключением возможных служебных команд.
2. Источником VFS является CSV-файл. Для двоичных данных используется base64 или аналогичный формат. Необходимо разобраться, как представлять вложенные элементы VFS.
3. Сообщить об ошибке загрузки VFS (файл не найден, неверный формат).
4. Создать несколько скриптов реальной ОС, в которой выполняется эмулятор. Включить в каждый скрипт вызовы эмулятора для тестирования работы c различными вариантами VFS (минимальный, несколько файлов, не менее 3 уровней файлов и папок).
5. Создать стартовый скрипт для тестирования всех реализованных на этом и прошлых этапах команд. Добавить туда примеры всех режимов команд, включая работу с VFS и обработку ошибок.
6. Результат выполнения этапа сохранить в репозиторий стандартно оформленным коммитом.
